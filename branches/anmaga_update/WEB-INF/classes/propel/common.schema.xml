 <database defaultIdMethod="native" package="common.classes" name="anmaga" >
  <table phpName="Node" name="node" description="Nodo del Arbol" >
    <column name="id" autoIncrement="true" type="INTEGER" required="true" description="Id del nodo" primaryKey='true' />
    <column name="name" size="255" type="VARCHAR" required="true" description="Nombre del nodo" />
    <column name="kind" size="255" type="VARCHAR" required="true" description="Tipo de nodo" />
    <column name="objectId" type="INTEGER" description="Id del objeto relacionado al nodo" />
    <column name="parentId" type="INTEGER" description="Id del nodo padre" />
    <column name="position" type="INTEGER" description="Orden entre los hermanos del nodo" />
		<foreign-key foreignTable="node" >
			<reference local="parentId" foreign="id" />
		</foreign-key>
  </table>

<table phpName="Branch" name="branch" description="Sucursales de Afiliados">
  <column name="id" autoIncrement="true" type="INTEGER" required="true" description="Id de la sucursal" primaryKey='true' />
  <column name="affiliateId" type="INTEGER"  required="true" description="Id del afiliado" />
  <column name="number" type="INTEGER"  required="true" description="Numero de la sucursal" />
	<column name="code" size="20" type="VARCHAR" description="Codigo de la sucursal" />
  <column name="name" size="255" type="VARCHAR" description="Nombre de la sucursal" />
  <column name="phone" size="100" type="VARCHAR" description="Telefono de la sucursal" />
  <column name="contact" type="VARCHAR" size="50" description="Nombre de persona de contacto"/>
  <column name="contactEmail" type="VARCHAR" size="100" description="Email de persona de contacto"/>
  <column name="memo" type="LONGVARCHAR" description="Informacion adicional de la sucursal"/>
  <foreign-key foreignTable="affiliates_affiliate" >
    <reference local="affiliateId" foreign="id" />
  </foreign-key>
</table>

  </database>
