<database defaultIdMethod="native" package="actionLogs.classes" name="application" >

<table phpName="ActionLog" name="actionLogs_log" description="logs del sistema">
    <column name="id" type="INTEGER"  required="true" description="Id log" primaryKey="true" autoIncrement="true"  />
    <column name="userId" type="INTEGER"  required="true" description="Id del usuario" />
    <column name="affiliateId" type="INTEGER"  required="true" description="Id del afiliado" />
    <column name="datetime" type="TIMESTAMP"  required="true" description="Fecha en que se logueo el dato" />
    <column name="action" type="VARCHAR" size="100"  required="true" description="action en que se logueo el dato" />
    <column name="object" type="VARCHAR" size="100"  required="true" description="objeto sobre el cual se realizo la accion"/>
    <column name="forward" type="VARCHAR" size="100" description="tipo de accion de la etiqueta"/>
    <foreign-key foreignTable="users_user" >
        <reference local="userId" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="security_action" >
        <reference local="action" foreign="action" />
    </foreign-key>
</table>


<table phpName="ActionLogLabel" name="actionLogs_label" description="Etiquetas de logueo">
    <column name="id" type="INTEGER"  required="true" description="Id Label" primaryKey="true" autoIncrement="true"  />
    <column name="action" primaryKey="true" type="VARCHAR" size="100"  required="true" description="action en que se loguea el dato" />
    <column name="label" type="VARCHAR" size="100"  required="true" description="mensaje del log"/>
    <column name="language" type="VARCHAR" size="100" description="idioma de la etiqueta"/>
    <column name="forward" type="VARCHAR" size="100" description="tipo de accion de la etiqueta"/>
</table>

</database>
