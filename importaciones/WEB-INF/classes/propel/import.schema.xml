<database defaultIdMethod="native" package="import.classes" name="application" >

	<table name="import_product" phpName='Product' description="Productos">
	 <column name="id" required="true" primaryKey="true" type="INTEGER" description="Product Id" autoIncrement="true"/>
	 <column name="code" size="255" type="VARCHAR" description="Codigo del producto" />
	 <column name="name" size="255" type="VARCHAR" description="Nombre del producto en ingles" />
	 <column name="nameSpanish" size="255" type="VARCHAR" description="Nombre del producto en espaniol" />
	 <column name="description" type="LONGVARCHAR" description="Descripcion del producto en ingles" />
	 <column name="descriptionSpanish" type="LONGVARCHAR" description="Descripcion del producto en espaniol" />
	 <column type="BOOLEAN" name="active" required="true" description="Is product active?" />
	
	</table>
	
	<table name="import_productSupplier" phpName='ProductSupplier' description="Relacion Productos Proveedores">
	 <column name="productId" required="true" primaryKey="true" type="INTEGER" description="Product Id" />
	 <column name="supplierId" size="255" type="VARCHAR" description="Nombre del producto" />
	 <column name="code" size="255" type="VARCHAR" description="Codigo del producto" />
	
	 <foreign-key foreignTable="import_product" >
	   <reference local="productId" foreign="id" />
	 </foreign-key>
	
	 <foreign-key foreignTable="import_supplier" >
	   <reference local="supplierId" foreign="id" />
	 </foreign-key>
	
	</table>
	
	<table name="import_supplier" phpName="Supplier" description="Proveedores" >
	  <column autoIncrement="true" type="INTEGER" name="id" required="true" description="" primaryKey='true' />
	  <column size="255" type="VARCHAR" name="name" required="true" description="Nombre" />
	  <column size="255" type="VARCHAR" name="email" description="email" />
	  <column type="BOOLEAN" name="active" required="true" description="Is supplier active?" />
	</table>
	
	 <table name="import_clientQuotation" phpName='ClientQuotation' description="Cotizacion a Cliente">
	  <column name="id" required="true" primaryKey="true" type="INTEGER" description="Id de cotizacion de cliente" autoIncrement="true"/>
	  <column name="createdAt" required="true"  type="TIMESTAMP"  description="Creation date for"/>
	  <column name="userId" type="INTEGER" description="User" required="true" />
	  <column name="status" type="INTEGER" description="Status de Cotizacion" required="true" />
	  <column name="timestampStatus" type="TIMESTAMP" description="Fecha del ultimo cambio de status" />
	
	  <foreign-key foreignTable="affiliates_user" >
	    <reference local="userId" foreign="id" />
	  </foreign-key>
	
	 </table>
	
	 <table name="import_clientQuotationItem" phpName='ClientQuotationItem' description="Elemento de Cotizacion Cliente">
	
		<column name="id" required="true" primaryKey="true" type="INTEGER" description="Id elemento de cotizacion de Cliente" autoIncrement="true"/>
		<column name="clientQuotationId" required="true" type="INTEGER" description="Id de cotizacion de cliente"/>
		<column name="productId" required="true" type="INTEGER" description="Id producto"/>
		<column name="price" type="FLOAT" description="precio de producto" />
		<column name="quantity" require="true" type="INTEGER" description="cantidad de producto" />
		
		<foreign-key foreignTable="import_clientQuotation" >
		  <reference local="clientQuotationId" foreign="id" />
		</foreign-key>
	
		<foreign-key foreignTable="import_product" >
		  <reference local="productId" foreign="id" />
		</foreign-key>
	
	 </table>
	
	 <table name="import_supplierQuotation" phpName='SupplierQuotation' description="Cotizacion de Proveedor">
	  <column name="id" required="true" primaryKey="true" type="INTEGER" description="Id de cotizacion de proveedor" autoIncrement="true"/>
	  <column name="createdAt" required="true"  type="TIMESTAMP"  description="Creation date for"/>
	  <column name="supplierId" type="INTEGER" description="Supplier" required="true" />
	  <column name="status" type="INTEGER" description="Status de Cotizacion" required="true" />
	  <column name="timestampStatus" type="TIMESTAMP" description="Fecha del ultimo cambio de status" />
	  <column name="clientQuotationId" type="INTEGER" description="id de cotizacion relacionada" />
	  <column name="supplierAccessToken" required="true" type="VARCHAR" size="255" description="token de validacion del acceso al proveedor a la orden"/>
 	
	
		<foreign-key foreignTable="import_clientQuotation" >
		  <reference local="clientQuotationId" foreign="id" />
		</foreign-key>
	
		<foreign-key foreignTable="import_supplier" >
		  <reference local="supplierId" foreign="id" />
		</foreign-key>
	 </table>
	
	 <table name="import_supplierQuotationItem" phpName='SupplierQuotationItem' description="Elemento de Cotizacion de Proveedor">
		<column name="id" required="true" primaryKey="true" type="INTEGER" description="Id elemento de cotizacion de proveedor" autoIncrement="true"/>
		<column name="supplierQuotationId" required="true" type="INTEGER" description="Id de cotizacion de proveedor"/>
		<column name="productId" required="true" type="INTEGER" description="Id producto"/>
		<column name="clientQuotationItemId" required="true" type="INTEGER" description="Id de cotizacion de proveedor"/>	
		<column name="price" type="FLOAT" description="precio de producto" />
		<column name="quantity" type="INTEGER" description="cantidad producto" required='true'/>
		<column name="portId" type="INTEGER" description="id de puerto"/>
		<column name="incotermId" type="INTEGER" description="id de incoterm"/>	
		
		<foreign-key foreignTable="import_supplierQuotation" >
		  <reference local="supplierQuotationId" foreign="id" />
		</foreign-key>
		
		<foreign-key foreignTable="import_clientQuotationItem" >
		  <reference local="clientQuotationItemId" foreign="id" />
		</foreign-key>	
		
		<foreign-key foreignTable="import_product" >
		  <reference local="productId" foreign="id" />
		</foreign-key>
	
		<foreign-key foreignTable="import_incoterm" >
		  <reference local="incotermId" foreign="id" />
		</foreign-key>
	
		<foreign-key foreignTable="import_port" >
		  <reference local="portId" foreign="id" />
		</foreign-key>
		
	 </table>
	
	<table name="import_clientPurchaseOrder" phpName='ClientPurchaseOrder' description="Orden de Pedido de Cliente">
		<column name="id" required="true" primaryKey="true" type="INTEGER" description="Id de Orden de Pedido a Cliente" autoIncrement="true"/>
		<column name="createdAt" required="true"  type="TIMESTAMP"  description="Creation date for"/>
		<column name="userId" type="INTEGER" description="User" required="true" />
		<column name="clientQuotationId" type="INTEGER" description="Cotizacion a la que hace referencia" required="true" />
		<column name="status" type="INTEGER" description="Status de Cotizacion" required="true" />
		<column name="timestampStatus" type="TIMESTAMP" description="Fecha del ultimo cambio de status" />
	
		<foreign-key foreignTable="import_clientQuotation" >
		  <reference local="clientQuotationId" foreign="id" />
		</foreign-key>
	
	</table>
	
	<table name="import_clientPurchaseOrderItem" phpName='ClientPurchaseOrderItem' description="Elemento de Orden de Pedido a Cliente">
		<column name="id" required="true" primaryKey="true" type="INTEGER" description="Id elemento de Orden de Pedido a Cliente" autoIncrement="true"/>
		<column name="clientPurchaseOrderId" required="true" primaryKey="true" type="INTEGER" description="Id de item de Orden de Pedido a Cliente"/>
		<column name="clientQuotationItemId" required="true" type="INTEGER" description="Referencia al item cotizado"/>
		<column name="productId" required="true" primaryKey="true" type="INTEGER" description="Id producto"/>
		<column name="price" type="FLOAT" description="Precio del producto" />
		<column name="quantity" type="INTEGER" description="Id producto"/>
	
		<foreign-key foreignTable="import_clientPurchaseOrder" >
		  <reference local="clientPurchaseOrderId" foreign="id" />
		</foreign-key>
	
		<foreign-key foreignTable="import_product" >
		  <reference local="productId" foreign="id" />
		</foreign-key>
	
		<foreign-key foreignTable="import_clientQuotationItem" >
		  <reference local="clientQuotationItemId" foreign="id" />
		</foreign-key>
	
	</table>
	
	<table name="import_supplierPurchaseOrder" phpName='SupplierPurchaseOrder' description="Orden de Pedido a Proveedor">
		<column name="id" required="true" primaryKey="true" type="INTEGER" description="Id de Orden de Pedido de Cliente" autoIncrement="true"/>
		<column name="createdAt" required="true"  type="TIMESTAMP"  description="Creation date for"/>
		<column name="supplierId" type="INTEGER" description="Supplier" required="true" />
		<column name="status" type="INTEGER" description="Status de Cotizacion" required="true" />
		<column name="timestampStatus" type="TIMESTAMP" description="Fecha del ultimo cambio de status" />
	  	<column name="supplierQuotationId" type="INTEGER" description="id de cotizacion relacionada" />
	
		<foreign-key foreignTable="import_supplierQuotation" >
		  <reference local="supplierQuotationId" foreign="id" />
		</foreign-key>
	
		<foreign-key foreignTable="import_supplier" >
		  <reference local="supplierId" foreign="id" />
		</foreign-key>
	
	</table>
	
	<table name="import_purchaseOrderItem" phpName='PurchaseOrderItem' description="Elemento de Orden de Pedido a Cliente">
		<column name="id" required="true" primaryKey="true" type="INTEGER" description="Id elemento de Orden de Pedido a Cliente" autoIncrement="true"/>
		<column name="productId" required="true" type="INTEGER" description="Id producto"/>
		<column name="supplierPurchaseOrderId" required="true" type="INTEGER" description="Id producto"/>
		<column name="price" type="FLOAT" description="Id producto" />
		<column name="quantity" type="INTEGER" description="Id producto"/>
		
		<foreign-key foreignTable="import_product" >
		  <reference local="productId" foreign="id" />
		</foreign-key>
	
		<foreign-key foreignTable="import_supplierPurchaseOrder" >
		  <reference local="supplierPurchaseOrderId" foreign="id" />
		</foreign-key>
	
	</table>
	
	<table name="import_port" phpName='Port' description="Puerto">
		<column name="id" required="true" primaryKey="true" type="INTEGER" description="Port Id" autoIncrement="true"/>
		<column name="code" size="255" type="VARCHAR" description="Codigo del puerto" />
		<column name="name" size="255" type="VARCHAR" description="Nombre del puerto" />
		<column type="BOOLEAN" name="active" required="true" description="Is port active?" />
	</table>
	
	<table name="import_incoterm" phpName='Incoterm' description="Incoterm">
		<column name="id" required="true" primaryKey="true" type="INTEGER" description="Incoterm Id" autoIncrement="true"/>
		<column name="name" size="255" type="VARCHAR" description="Nombre del Incoterm" />
		<column name="description" size="255" type="VARCHAR" description="Descripcion del Incoterm" />  
		<column type="BOOLEAN" name="active" required="true" description="Is incoterm active?" />
	</table>

</database>
