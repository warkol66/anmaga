<database defaultIdMethod="native" package="categories.classes" name="application" >
 
  <table phpName="Category" name="categories_category" description="Categorias" >
    <column autoIncrement="true" type="INTEGER" name="id" required="true" description="" primaryKey='true' />
    <column type="INTEGER" name="parentId" required="true" description="Parent Category if it has" default='0' />
    <column size="255" type="VARCHAR" name="name" required="true" description="Category name"/>
    <column size="255" type="VARCHAR" name="module" description="Module name if it is for a module" default="" />
    <column type="BOOLEAN" name="active" required="true" description="Is category active?" />
	<column type="BOOLEAN" name="isPublic" required="true" description="Is category public?" default="0" />
  </table>
  
 <table name="users_groupCategory" phpName='GroupCategory' description="Groups / Categories">
  <column name="groupId" required="true" primaryKey='true' type="INTEGER"  description="Group ID"/>
  <column name="categoryId" required="true" primaryKey='true' type="INTEGER"  description="Category ID"/>
  <foreign-key foreignTable="users_group" onDelete="cascade">
     <reference local="groupId" foreign="id"/>
  </foreign-key>
  <foreign-key foreignTable="categories_category">
     <reference local="categoryId" foreign="id"/>
  </foreign-key>
 </table>
 
 <table name="affiliates_groupCategory" phpName='AffiliateGroupCategory' description="Groups / Categories">
  <column name="groupId" required="true" primaryKey='true' type="INTEGER"  description="Group ID"/>
  <column name="categoryId" required="true" primaryKey='true' type="INTEGER"  description="Category ID"/>
  <foreign-key foreignTable="affiliates_group" onDelete="cascade">
     <reference local="groupId" foreign="id"/>
  </foreign-key>
  <foreign-key foreignTable="categories_category">
     <reference local="categoryId" foreign="id"/>
  </foreign-key>
 </table>

</database>
