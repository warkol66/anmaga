<?xml version="1.0" encoding="ISO-8859-1" ?>
<?php
/**
* Define Actions del phpMVC
*
* $author Modulos Empresarios / Egytca
* @package phpMVCconfig
*/
?>

<!DOCTYPE phpmvc-config PUBLIC "-//PHPMVC//DTD PHPMVC Configuration 1.0//EN"
					"./phpmvc-config_1_1.dtd">

<phpmvc-config>

<!-- ========== Form Bean Definitions =================================== -->

	<form-beans>
<!-- Smarty type form handling bean -->
		<form-bean name="demoPage" 
							 type="DemoPageForm"/>
	</form-beans>

<!-- ========== Action Mapping Definitions ============================== -->

  <action-mappings>
    <action    path = "index"
               type = "IndexAction"
               name = "index"
              scope = "request"
           validate = "true">
    	<forward name="success" path="mer_index.tpl" />
    </action>
    <action    path = "welcome"
               type = "WelcomeAction"
               name = "welcome"
              scope = "request"
           validate = "true">
    <forward name="success" path="mer_welcome.tpl" />
    </action>
    
	</action-mappings>

<!-- ========== Action Mapping Module Users  ============================== -->

<!-- Module Users - Section Users -->
	<action-mappings module="Users" section="Users">
		<action    path = "usersLogin"
					     type = "UsersLoginAction"
					     name = "usersLogin"
					    scope = "request"
					 validate = "true">
			<description value="Modulo de ingreso"/>
			<forward name="success" template='template_login.tpl' path="users_login.tpl"/>
			<forward name="loginok" template='template_login.tpl' path="welcome.tpl"/>
			<forward name="maintenance" template='template_login.tpl' path="mer_maintenance.tpl"/>
		</action>
		
		<action    path = "usersDoLogin"
					     type = "UsersDoLoginAction"
					     name = "usersDoLogin"
					    scope = "request"
					 validate = "true">
			<description value="Modulo de ingreso"/>
			<forward name="success" path="mer_welcome.tpl"/>
			<forward name="failure" path="users_login.tpl"/>
		</action>

		<action    path = "loginAdmin"
					     type = "LoginAdminAction"
					     name = "loginAdmin"
					    scope = "request"
					 validate = "true">
			<description value="Modulo de ingreso con el sistema en Mantenimiento"/>
			<forward name="success" path="login.tpl"/>
			<forward name="loginok" path="welcome.tpl"/>
		</action>
		<action    path = "usersDoLogout"
					     type = "UsersDoLogoutAction"
					     name = "usersDoLogout"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="/Main.php?do=usersLogin" redirect="true"/>
		</action>
		
		<action    path = "usersList"
					     type = "UsersListAction"
					     name = "usersList"
					    scope = "request"
					 validate = "true" modulo="kuiki">
			<forward name="success" path="users_list.tpl"/>
		</action>
		
		<action    path = "usersDoEdit"
					     type = "UsersDoEditAction"
					     name = "usersDoEdit"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="/Main.php?do=usersList&amp;message=saved" redirect="true"/>
		</action>
		
    <action    path = "usersDoDelete"
               type = "UsersDoDeleteAction"
               name = "usersDoDelete"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=usersList&amp;message=deleted" redirect="true" />
    <forward name="failure" path="/Main.php?do=usersList&amp;message=notdeleted" redirect="true" />
    </action>
    
    <action    path = "usersDoAddToGroup"
               type = "UsersDoAddToGroupAction"
               name = "usersDoAddToGroup"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=usersList" redirect="true" />
    </action>
    
    <action    path = "usersDoRemoveFromGroup"
               type = "UsersDoRemoveFromGroupAction"
               name = "usersDoRemoveFromGroup"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=usersList" redirect="true" />
    </action>
    
    <action    path = "usersDoActivate"
               type = "UsersDoActivateAction"
               name = "usersDoActivate"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=usersList&amp;message=activated" redirect="true" />
    <forward name="failure" path="/Main.php?do=usersList&amp;message=notactivated" redirect="true" />
    </action>
	</action-mappings>
<!-- End Section Users -->

<!-- Module Users - Section Groups -->
	<action-mappings module="Users" section="Groups">
		<action    path = "groupsList"
					     type = "GroupsListAction"
					     name = "groupsList"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="groups_list.tpl"/>
		</action>

		<action    path = "groupsDoEdit"
					     type = "GroupsDoEditAction"
					     name = "groupsDoEdit"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="/Main.php?do=groupsList&amp;message=saved" redirect="true"/>
			<forward name="blankName" path="/Main.php?do=groupsList&amp;message=blankName" redirect="true"/>
		</action>
		
    <action    path = "groupsDoAddCategoryToGroup"
               type = "GroupsDoAddCategoryToGroupAction"
               name = "groupsDoAddCategoryToGroup"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=groupsList" redirect="true" />
    </action>
    
    <action    path = "groupsDoRemoveCategoryFromGroup"
               type = "GroupsDoRemoveCategoryFromGroupAction"
               name = "groupsDoRemoveCategoryFromGroup"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=groupsList" redirect="true" />
    </action>

    <action    path = "groupsDoDelete"
               type = "GroupsDoDeleteAction"
               name = "groupsDoDelete"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=groupsList&amp;message=deleted" redirect="true" />
    <forward name="failure" path="/Main.php?do=groupsList&amp;message=notdeleted" redirect="true" />
    </action>
	</action-mappings>
<!-- End Section - Groups -->

<!-- Module Users - Section Levels -->
	<action-mappings module="Users" section="Levels">
		<action    path = "levelsList"
					     type = "LevelsListAction"
					     name = "levelsList"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="users_levels_list.tpl"/>
		</action>

		<action    path = "levelsDoEdit"
					     type = "LevelsDoEditAction"
					     name = "levelsDoEdit"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="/Main.php?do=levelsList&amp;message=saved" redirect="true"/>
			<forward name="blankName" path="/Main.php?do=levelsList&amp;message=blankName" redirect="true"/>
		</action>
		
    <action    path = "levelsDoDelete"
               type = "LevelsDoDeleteAction"
               name = "levelsDoDelete"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=levelsList&amp;message=deleted" redirect="true" />
    <forward name="failure" path="/Main.php?do=levelsList&amp;message=notdeleted" redirect="true" />
    </action>
	</action-mappings>
<!-- End Section - Levels -->

<!-- Module Htmls -->
  <action-mappings>
    <action    path = "htmlsUpdate"
               type = "HtmlsUpdateAction"
               name = "htmlsUpdate"
              scope = "request"
           validate = "true">
    <forward name="success" path="htmls_update.tpl"/>
    </action>

    <action    path = "htmlsDoUpdate"
               type = "HtmlsDoUpdateAction"
               name = "htmlsDoUpdate"
              scope = "request"
           validate = "true">
    <forward name="success" path="htmls_update.tpl"/>
    </action>

    <action    path = "htmlsShow"
               type = "HtmlsShowAction"
               name = "htmlsShow"
              scope = "request"
           validate = "true">
    <forward name="success" path="htmls_show.tpl"/>
    </action>
    
    <action    path = "htmlsShowPrivate"
               type = "HtmlsShowPrivateAction"
               name = "htmlsShowPrivate"
              scope = "request"
           validate = "true">
    <forward name="success" path="htmls_show.tpl"/>
    </action>
  </action-mappings>
<!-- End Module Htmls -->

<!-- Module Security -->
	<action-mappings module="Security">

    <action    path = "noPermission"
               type = "NoPermissionAction"
               name = "noPermission"
              scope = "request"
           validate = "true">
		<forward name="success"  path="no_permission.tpl" />
    </action>

    <action    path = "securityActionList"
               type = "SecurityActionListAction"
               name = "securityActionList"
              scope = "request"
           validate = "true">
		<forward name="success"  path="security_action_list.tpl" />
    </action>

    <action    path = "securityActionLoad"
               type = "SecurityActionLoadAction"
               name = "securityActionLoad"
              scope = "request"
           validate = "true">
		<forward name="success"  path="security_action_load.tpl" />
    </action>
	
    <action    path = "securityActionDoLoad"
               type = "SecurityActionDoLoadAction"
               name = "securityActionDoLoad"
              scope = "request"
           validate = "true">
		<forward name="success" path="Main.php?do=securityActionLoad" redirect='true'/>
    </action>
    <action    path = "securityActionDoSave"
               type = "SecurityActionDoSaveAction"
               name = "securityActionDoSave"
              scope = "request"
           validate = "true">
		<forward name="success" path="Main.php?do=securityActionList" redirect='true'/>
    </action>
	</action-mappings>
<!-- End Module Security -->

<!-- Module Config -->
  <action-mappings>
    <action    path = "configView"
               type = "ConfigViewAction"
               name = "configView"
              scope = "request"
           validate = "true">
    <forward name="success" path="config_view.tpl"/>
    </action>

    <action    path = "configEdit"
               type = "ConfigEditAction"
               name = "configEdit"
              scope = "request"
           validate = "true">
    <forward name="success" path="config_edit.tpl"/>
    </action>

    <action    path = "configDoEdit"
               type = "ConfigDoEditAction"
               name = "configDoEdit"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=configView&amp;message=ok" redirect="true" />
    </action>
  </action-mappings>
<!-- End Module Config -->

  
<!-- Module Affiliates -->
	<action-mappings module="Affiliates">

	<action    path = "affiliatesList"
					     type = "AffiliatesListAction"
					     name = "affiliatesList"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="affiliates_list.tpl"/>
	</action>

	<action    path = "affiliatesSearchAffiliate"
					     type = "AffiliatesSearchAffiliateAction"
					     name = "affiliatesSearchAffiliate"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="affiliates_list.tpl"/>
	</action>

	<action    path = "affiliatesEdit"
					     type = "AffiliatesEditAction"
					     name = "affiliatesEdit"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="affiliates_edit.tpl"/>
	</action>

	<action    path = "affiliatesAddAffiliate"
					     type = "AffiliatesAddAffiliateAction"
					     name = "affiliatesAddAffiliate"
					    scope = "request"
					 validate = "true">
		<forward name="success" path="affiliates_add_affiliate.tpl"/>
	</action>
				
	<action    path = "affiliatesViewAffiliate"
					     type = "AffiliatesViewAffiliateAction"
					     name = "affiliatesViewAffiliate"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="affiliates_view_affiliate.tpl"/>
	</action>

    <action    path = "affiliatesDoEdit"
               type = "AffiliatesDoEditAction"
               name = "affiliatesDoEdit"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=affiliatesList&amp;message=edited" redirect="true" />
	</action>

	<action    path = "affiliatesDoEditInfo"
               type = "AffiliatesDoEditInfoAction"
               name = "affiliatesDoEditInfo"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=affiliatesList&amp;message=edited" redirect="true" />
	</action>

	<action    path = "affiliatesDoDelete"
               type = "AffiliatesDoDeleteAction"
               name = "affiliatesDoDelete"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=affiliatesList&amp;message=deleted" redirect="true" />
    <forward name="failure" path="/Main.php?do=affiliatesList&amp;message=notdeleted" redirect="true" />
    </action>

	<action    path = "affiliatesDoAddAffiliate"
               type = "AffiliatesDoAddAffiliateAction"
               name = "affiliatesDoAddAffiliate"
              scope = "request"
           validate = "true">
    <forward name="success" path="/Main.php?do=affiliatesList" redirect="true" />
    </action>

	</action-mappings>

		<!-- Module Users By Affiliate -->
	<action-mappings module="UsersByAffiliate">

	<action    path = "usersByAffiliateList"
					     type = "UsersByAffiliateListAction"
					     name = "usersByAffiliateList"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="users_by_affiliate_list.tpl"/>
	</action>

	<action    path = "usersByAffiliateAddUser"
					     type = "UsersByAffiliateAddUserAction"
					     name = "usersByAffiliateAddUser"
					    scope = "request"
					 validate = "true">
		<forward name="success" path="users_by_affiliate_add_user.tpl"/>
	</action>
		<action    path = "usersByAffiliateEditUser"
					     type = "UsersByAffiliateEditUserAction"
					     name = "usersByAffiliateEditUser"
					    scope = "request"
					 validate = "true">
		<forward name="success" path="users_by_affiliate_edit_user.tpl"/>
	</action>

	<action    path = "usersByAffiliateDoAddUser"
					     type = "UsersByAffiliateDoAddUserAction"
					     name = "usersByAffiliateDoAddUser"
					    scope = "request"
					 validate = "true">
    <forward name="success" path="/Main.php?do=usersByAffiliateList&amp;message=saved" redirect="true" />
	</action>

	<action    path = "usersByAffiliateDoEditUser"
					     type = "UsersByAffiliateDoEditUserAction"
					     name = "usersByAffiliateDoEditUser"
					    scope = "request"
					 validate = "true">
    <forward name="success" path="/Main.php?do=usersByAffiliateList&amp;message=saved" redirect="true" />
	</action>

	<action    path = "usersByAffiliateDoDelete"
					     type = "UsersByAffiliateDoDeleteAction"
					     name = "usersByAffiliateDoDelete"
					    scope = "request"
					 validate = "true">
    <forward name="success" path="/Main.php?do=usersByAffiliateList&amp;message=deleted" redirect="true" />
	</action>
	<action    path = "usersByAffiliateDoLogin"
					     type = "UsersByAffiliateDoLoginAction"
					     name = "usersByAffiliateDoLogin"
					    scope = "request"
					 validate = "true">
			<description value="Modulo de ingreso"/>
			<forward name="success" path="mer_welcome.tpl"/>
			<forward name="failure" path="users_login.tpl"/>
	</action>

	</action-mappings>

<!-- ========== PlugIns ================================================= -->

	<!-- Load our PlugIn class here (case sensetive class name)					     -->
	<!-- Note: The attribute names must match the class methods					     -->
	<!-- Eg: 'key' maps to 'setKey(..)'															         -->
	<plug-in className="SmartyMLPlugInDriver"
								 key="SMARTY_PLUGIN">
		<!-- And set some custom propertied on the PlugIn class					       -->
		<!-- Note: The property name must match the class variable name exactly -->
		<set-property property="caching"       value="0"/>
		<set-property property="force_compile" value="true"/>
		<set-property property="template_dir"  value="WEB-INF/tpl/"/>
		<set-property property="compile_dir"   value="WEB-INF/smarty_tpl/templates_c/"/>
		<set-property property="config_dir"    value="WEB-INF/smarty_tpl/configs/"/>
		<set-property property="cache_dir"     value="WEB-INF/smarty_tpl/cache/"/>
		<set-property property="left_delimiter"    value="|-"/>
		<set-property property="right_delimiter"     value="-|"/>
	</plug-in>

</phpmvc-config>
